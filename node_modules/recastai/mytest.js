import Client from './class/client'
import Conversation from './class/conversation'

const token = 'c63b83d84ea9ee1514c5329658154279'
const client = new Client(token)
let conversationToken

client.textConverse('Hello')
  .then(res => {
    conversationToken = res.conversationToken
  
    return client.textConverse('Tell me a joke please', { conversationToken })
  })
  .then(() => client.textConverse('Monday', { conversationToken }))
  .then(res => Conversation.setMemory(token, conversationToken, { person: { name: 'georges' } }))
  .then(res => client.textConverse('In Paris', { conversationToken }))
  .then(() => Conversation.resetMemory(token, conversationToken, 'datetime'))
  .then(res => client.textConverse('Tell me a joke', { conversationToken }))
  .then(res => Conversation.resetConversation(token, conversationToken))
  .then(res => client.textConverse('Hello', { conversationToken }))
  .then(res => console.log('res', res))
  .catch(err => console.log('ERROR', err))
